INTERLIS 2.4;

MODEL TestSuite
  AT "mailto:info@geowerkstatt.ch" VERSION "2023-12-13" =
  IMPORTS GeoW_FunctionsExt;

  DOMAIN
    !!@CRS=EPSG:2056
    CHKoord = COORD 2460000.000 .. 2870000.000 [INTERLIS.m],
                    1045000.000 .. 1310000.000 [INTERLIS.m],
                    ROTATION 2 -> 1;

  TOPIC FunctionTestTopic =

    CLASS BaseClass =
      surfaceAttribute : SURFACE WITH (STRAIGHTS) VERTEX CHKoord WITHOUT OVERLAPS > 0.1;

      SET CONSTRAINT falseConstraint:
        GeoW_FunctionsExt.GetInnerRingsCount(ALL, "surfaceAttribute") > 3;
      SET CONSTRAINT falseConstraintUnion:
        GeoW_FunctionsExt.GetInnerRingsCount(GeoW_FunctionsExt.Union(ALL, "surfaceAttribute"), UNDEFINED) > 3;

      SET CONSTRAINT trueConstraint:
        GeoW_FunctionsExt.GetInnerRingsCount(ALL, "surfaceAttribute") == 1;
      SET CONSTRAINT trueConstraintUnion:
        GeoW_FunctionsExt.GetInnerRingsCount(GeoW_FunctionsExt.Union(ALL, "surfaceAttribute"), UNDEFINED) == 1;
    END BaseClass;

  END FunctionTestTopic;

END TestSuite.
